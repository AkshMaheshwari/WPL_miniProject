<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Membership Page">
    <meta name="author" content="Your Name">
    <title>Membership Pricing</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="navbar.css">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <ul class="navbar__menu">
          <li class="navbar__item">
            <a href="menu.php" class="navbar__link"><i data-feather="Menu"></i><span>Menu</span> </a>
          </li>
          <li class="navbar__item">
            <a href="membership.html" class="navbar__link"><i data-feather="Membership"></i><span>Membership</span></a>        
          </li>
          <li class="navbar__item">
            <a href="cart.html" class="navbar__link"><i data-feather="Cart"></i><span>Cart</span></a>        
          </li>
          <li class="navbar__item">
            <a href="contact_us.html" class="navbar__link"><i data-feather="Contact Us"></i><span>Contact Us</span></a>        
          </li>
          <li class="navbar__item">
            <a href="profile.php" class="navbar__link"><i data-feather="Profile"></i><span>Profile</span></a>        
          </li>
          <li class="navbar__item">
            <a href="orders.html" class="navbar__link"><i data-feather="Current Orders"></i><span>Current Orders</span></a>        
          </li>
          <li class="navbar__item">
            <a href="logout.php" class="navbar__link"><i data-feather="Logout"></i><span>Logout</span></a>        
          </li>
        </ul>
      </nav>


    <!-- Page Header -->
    <div class="container py-3">
        <div class="pricing-header p-3 pb-md-4 mx-auto text-center">
            <h1 class="display-4 fw-normal">Pricing Plans</h1>
            <p class="fs-5 text-muted">Choose the best plan for you and enjoy exclusive benefits!</p>
        </div>
    </div>

    <!-- Pricing Section -->
    <main>
        <div class="row row-cols-1 row-cols-md-3 mb-3 text-center">
            <!-- Free Plan -->
            <div class="col">
                <div class="card mb-4 rounded-3 shadow-sm">
                    <div class="card-header py-3">
                        <h4 class="my-0 fw-normal">Free</h4>
                    </div>
                    <div class="card-body">
                        <h1 class="card-title pricing-card-title">₹0<small class="text-muted fw-light">/mo</small></h1>
                        <ul class="list-unstyled mt-3 mb-4">
                            <li>-</li>
                            <li>-</li>
                            <li>-</li>
                        </ul>
                        <button type="button" class="w-100 btn btn-lg btn-outline-primary add-to-cart" data-name="Free Plan" data-price="0">Buy Now!</button>
                    </div>
                </div>
            </div>

            <!-- Distinguished Plan -->
            <div class="col">
                <div class="card mb-4 rounded-3 shadow-sm">
                    <div class="card-header py-3">
                        <h4 class="my-0 fw-normal">Distinguished</h4>
                    </div>
                    <div class="card-body">
                        <h1 class="card-title pricing-card-title">₹250<small class="text-muted fw-light">/mo</small></h1>
                        <ul class="list-unstyled mt-3 mb-4">
                            <li>Free Delivery</li>
                            <li>₹50/- OFF on each order</li>
                            <li>-</li>
                        </ul>
                        <button type="button" class="w-100 btn btn-lg btn-primary add-to-cart" data-name="Distinguished Plan" data-price="250">Buy Now!</button>
                    </div>
                </div>
            </div>

            <!-- Connoisseur Plan -->
            <div class="col">
                <div class="card mb-4 rounded-3 shadow-sm border-primary">
                    <div class="card-header py-3 text-white bg-primary border-primary">
                        <h4 class="my-0 fw-normal">Connoisseur</h4>
                    </div>
                    <div class="card-body">
                        <h1 class="card-title pricing-card-title">₹500<small class="text-muted fw-light">/mo</small></h1>
                        <ul class="list-unstyled mt-3 mb-4">
                            <li>Free Delivery</li>
                            <li>₹150/- OFF on each order</li>
                            <li>Priority Seating</li>
                        </ul>
                        <button type="button" class="w-100 btn btn-lg btn-primary add-to-cart" data-name="Connoissuer Plan" data-price="500">Buy Now!</button>
                    </div>
                </div>
            </div>
        </div>

        

    <!-- Footer -->
    <footer class="pt-4 my-md-5 pt-md-5 border-top">
        <div class="row">
            <div class="col-12 col-md">
                <small class="d-block mb-3 text-muted">© 2025 Your Company</small>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const buyNowButtons = document.querySelectorAll(".add-to-cart");
    
            // Default membership
            if (!localStorage.getItem("membership")) {
                localStorage.setItem("membership", JSON.stringify({ name: "Free Plan", price: 0 }));
            }
    
            buyNowButtons.forEach(button => {
                button.addEventListener("click", function () {
                    let name = this.dataset.name;
                    let price = parseInt(this.dataset.price);
    
                    // Store selected membership in localStorage
                    localStorage.setItem("membership", JSON.stringify({ name, price }));
    
                    // Display alert based on membership benefits
                    let benefitsMessage = "";
                    if (name === "Distinguished Plan") {
                        benefitsMessage = "₹50/- OFF on each order and Free Delivery!";
                    } else if (name === "Connoissuer Plan") {
                        benefitsMessage = "₹150/- OFF on each order, Free Delivery, and Priority Seating!";
                    } else {
                        benefitsMessage = "No additional benefits.";
                    }
    
                    alert(`You have attempted to purchase the ${name}. Benefits: ${benefitsMessage}` + "\n\nPlease proceed to payment.");
    
                    // Adjust food item prices based on membership
                    adjustFoodPrices(name);
    
                    // Redirect to payment page
                    window.location.href = "membership_pay.html";
                });
            });
    
            // Function to adjust food prices based on membership
            function adjustFoodPrices(membershipName) {
                let cart = JSON.parse(localStorage.getItem("cart")) || [];
                let discount = 0;
    
                if (membershipName === "Distinguished Plan") {
                    discount = 50; // ₹50 off per item
                } else if (membershipName === "Connoissuer Plan") {
                    discount = 150; // ₹150 off per item
                }
    
                // Apply discount to each item in the cart
                cart = cart.map(item => {
                    item.price = Math.max(0, item.price - discount); // Ensure price doesn't go below ₹0
                    return item;
                });
    
                // Update cart in localStorage
                localStorage.setItem("cart", JSON.stringify(cart));
            }
        });
    </script>
    

</body>
</html>
